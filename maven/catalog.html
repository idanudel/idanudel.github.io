
<!DOCTYPE html>
<html lang="en">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<head>
    <meta charset="UTF-8">
    <title>Account Provision Test Page</title>
</head>
<body>
<form  method="GET" name="authenticateForm" id="authenticateForm">
    <!--idanm.liveperson.com one-->
    <div class="g-recaptcha" data-sitekey="6Lf8W-gUAAAAABo1H1upytzXNTqA2pk636VqAuil"></div>
    <!--rapid deploy key-->
    <!--<div class="g-recaptcha" data-sitekey="6Ld569AUAAAAAJ8bKdSR4QCf5Z09zOBYLXprOlWa"></div>-->
    
    <input value="Get Product" type="button" onclick="submitGetProduct()">
</form>

<label id="error" ></label>
</body>
<script>

    
    
    function submitGetProduct () {
        const headers = {
            "Content-Type":"application/json",
            "maven-uid":"1c33f76a-79c6-428e-a129-1a5772d241ce",
            "Authorization":"Bearer syt_bWF2ZW5fYnJhbmRfMzE2MzMzMzM2NjM3MzY2MTJkMzczOTYzMzYyZDM0MzIzODY1MmQ2MTMxMzIzOTJkMzE2MTM1MzczNzMyNjQzMjM0MzE2MzY1_mCGwkaRLtWdMTvcZqwJf_15Scly"
        };
        submit("https://stg-api.mavenapp.com/catalog/api/v2/brands/1c33f76a-79c6-428e-a129-1a5772d241ce/products?size=20&page=0&aggregate=onSale,bestSeller", headers)
    }
    
    function submit (url, headers, onSuccess) {
        $.ajax({
            type: "GET",
            headers : headers,
            url: url,
            data: formData,
            success: onSuccess || function (result) {console.log(JSON.stringify(result));},
            error :  (xhr, ajaxOptions, thrownError) => {
                $("#error").append(`Error ${xhr.status}\n ${thrownError} \n ${xhr.responseText}`);
            },
            dataType: "json",
            contentType: "application/json"
        });
    }

    </script>
</html>
